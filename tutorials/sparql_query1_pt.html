<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

  <title>Apache Jena - Tutorial SPARQL - A primeira consulta SPARQL</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="/jena-doc2/css/bootstrap.css" rel="stylesheet" media="screen">
  <link href="/jena-doc2/css/bootstrap-extension.css" rel="stylesheet" type="text/css">
  
  <script src="/jena-doc2//code.jquery.com/jquery.js"></script>
  <script src="/jena-doc2/js/jena-navigation.js" type="text/javascript"></script>
  <script src="/jena-doc2/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="/jena-doc2/js/breadcrumbs.js" type="text/javascript"></script>
</head>

<body>



<nav class="navbar navbar-default" role="navigation">
<div class="container">
  <div class="navbar-header">
 	<a class="navbar-brand" href="/jena-doc2/index.html">
		<img class="logo-menu" src="/jena-doc2/images/jena-logo/jena-logo-notext-small.png" alt="jena logo">Apache Jena</a>
  </div>
  
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>


  <div class="collapse navbar-collapse navbar-ex1-collapse">
    <ul class="nav navbar-nav">



              <li id="homepage"><a href="/jena-doc2/index.html"><span class="glyphicon glyphicon glyphicon-home"></span> Home</a></li>
              <li id="download"><a href="/jena-doc2/download/index.html"><span class="glyphicon glyphicon-download-alt"></span> Download</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-book"></span> Learn <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="dropdown-header">Tutorials</li>
                  <li><a href="/jena-doc2/tutorials/index.html">Overview</a></li>
                  <li><a href="/jena-doc2/tutorials/rdf_api.html">RDF core API tutorial</a></li>
                  <li><a href="/jena-doc2/tutorials/sparql.html">SPARQL tutorial</a></li>
                  <li><a href="/jena-doc2/documentation/query/manipulating_sparql_using_arq.html">Manipulating SPARQL using ARQ</a></li>
                  <li><a href="/jena-doc2/tutorials/using_jena_with_eclipse.html">Using Jena with Eclipse</a></li>
                  <li><a href="/jena-doc2/documentation/notes/index.html">How-To's</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">References</li>
                  <li><a href="/jena-doc2/documentation/index.html">Overview</a></li>
                  <li><a href="/jena-doc2/documentation/javadoc/">Javadoc</a></li>
                  <li><a href="/jena-doc2/documentation/rdf/index.html">RDF API</a></li>
                  <li><a href="/jena-doc2/documentation/io/">RDF I/O</a></li>
                  <li><a href="/jena-doc2/documentation/query/index.html">ARQ (SPARQL)</a></li>
                  <li><a href="/jena-doc2/documentation/query/text-query.html">Text Search</a></li>
                  <li><a href="/jena-doc2/documentation/tdb/index.html">TDB</a></li>
                  <li><a href="/jena-doc2/documentation/sdb/index.html">SDB</a></li>
                  <li><a href="/jena-doc2/documentation/serving_data/index.html">Fuseki</a></li>
                  <li><a href="/jena-doc2/documentation/assembler/index.html">Assembler</a></li>
                  <li><a href="/jena-doc2/documentation/ontology/">Ontology API</a></li>
                  <li><a href="/jena-doc2/documentation/inference/index.html">Inference API</a></li>
                  <li><a href="/jena-doc2/documentation/tools/index.html">Command-line tools</a></li>
                </ul>
              </li>
              <li id="ask"><a href="/jena-doc2/help_and_support/index.html"><span class="glyphicon glyphicon-question-sign"></span> Ask</a></li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-bullhorn"></span> Get involved <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="/jena-doc2/getting_involved/index.html">Contribute</a></li>
                  <li><a href="/jena-doc2/help_and_support/bugs_and_suggestions.html">Report a bug</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Project</li>
                  <li><a href="/jena-doc2/about_jena/about.html">About Jena</a></li>
                  <li><a href="/jena-doc2/about_jena/roadmap.html">Roadmap</a></li>
                  <li><a href="/jena-doc2/about_jena/architecture.html">Architecture</a></li>
                  <li><a href="/jena-doc2/about_jena/team.html">Project team</a></li>
                  <li><a href="/jena-doc2/about_jena/contributions.html">Related projects</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">ASF</li>
                  <li><a href="http://www.apache.org/">Apache Software Foundation</a></li>
                  <li><a href="http://www.apache.org/licenses/LICENSE-2.0">License</a></li>
                  <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
                  <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
                  <li><a href="http://www.apache.org/security/">Security</a></li>
                </ul>
              </li>

   
    </ul>
  </div>
</div>
</nav>


<div class="container">
	<div class="row">
	<div class="col-md-12">
	<div id="breadcrumbs"></div>
	<h1 class="title">Tutorial SPARQL - A primeira consulta SPARQL</h1>
  <p>Nesta sessão, vamos olhar para a primeira consulta simples e mostrar como executá-la em Jena.</p>
<h2 id="o-hello-world-de-consultas">O "hello world" de consultas</h2>
<p>O arquivo "<a href="sparql_data/q1.rq">q1.rq</a>" contem a seguinte consulta:</p>
<div class="codehilite"><pre><span class="n">SELECT</span> <span class="o">?</span><span class="n">x</span>
<span class="n">WHERE</span> <span class="p">{</span> <span class="o">?</span><span class="n">x</span>  <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.w3.org/2001/vcard-rdf/3.0#FN&gt;  &quot;John Smith&quot; }</span>
</pre></div>


<p>executando esta consulta com a aplicação de consultas em linhas de comando:</p>
<div class="codehilite"><pre><span class="o">---------------------------------</span>
<span class="o">|</span> <span class="n">x</span>                             <span class="o">|</span>
<span class="o">=================================</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somewhere/JohnSmith/&gt; |</span>
<span class="o">---------------------------------</span>
</pre></div>


<p>Isso funciona casando o padrão da tripla na clausula <code>WHERE</code> contra as triplas no grafo RDF. O predicado e o objeto da tripla são valores fixos, então o padrão vai casar somente triplas com estes valores. O sujeito é a variável, e não há outras restrições para a variável. O padrão casa qualquer tripla com aquele predicado e aquele objeto, e isso casa com soluções para <code>x</code>.</p>
<p>O item entre  &lt;> é a URI (atualmente, é uma IRI) e o item entre "" é uma literal. Assim como Turtle, N3 ou N-Triplas, literais tipadas são escritas com \^\^e tags de linguagem podem ser adicionadas com @.</p>
<p>?x é uma variável chamada x. A ? não faz parte do nome e por conta disso não aparece nos resultados.</p>
<p>Há um casamento. A consulta retorna o casamento na variável x da consulta. A saída mostrada foi obtida usando uma das aplicações de ARQ em linhas de comando.</p>
<h2 id="executando-a-consulta">Executando a consulta</h2>
<p>Há <a href="/jena-doc2/documentation/query/cmds.html">scripts de ajuda</a> nos diretórios de  ARQ <code>bat/</code> e
<code>bin/</code> de sua distribuição. Eles podem não estar na distribuição do Jena. Você deve checar esses scripts antes de usá-los.</p>
<h3 id="instalacao-no-windows">Instalação no Windows</h3>
<p>Aponte a variável de ambiente <code>ARQROOT</code> para a localização do arquivo na distribuição do ARQ.</p>
<div class="codehilite"><pre><span class="n">set</span> <span class="n">ARQROOT</span><span class="o">=</span><span class="n">c</span><span class="o">:</span><span class="err">\</span><span class="n">MyProjects</span><span class="err">\</span><span class="n">ARQ</span>
</pre></div>


<p>A distribuição normalmente contém o número da versão no nome do diretório.</p>
<p>No diretório do ARQ, execute:</p>
<div class="codehilite"><pre><span class="n">bat</span><span class="err">\</span><span class="n">sparql</span><span class="p">.</span><span class="n">bat</span> <span class="o">--</span><span class="n">data</span><span class="o">=</span><span class="n">doc</span><span class="err">\</span><span class="n">Tutorial</span><span class="err">\</span><span class="n">vc</span><span class="o">-</span><span class="n">db</span><span class="o">-</span><span class="mf">1.</span><span class="n">rdf</span> <span class="o">--</span><span class="n">query</span><span class="o">=</span><span class="n">doc</span><span class="err">\</span><span class="n">Tutorial</span><span class="err">\</span><span class="n">q1</span><span class="p">.</span><span class="n">rq</span>
</pre></div>


<p>Você pode simplesmente colocar o diretório <code>bat/</code> no seu classpath ou copiar os programas lá. Todos eles dependem de ARQROOT.</p>
<h3 id="scripts-bash-para-linuxcyquinunix">scripts bash para Linux/Cyquin/Unix</h3>
<p>Aponte a variável de ambiente <code>ARQROOT</code> para a localização do arquivo na distribuição do ARQ.</p>
<div class="codehilite"><pre><span class="n">export</span> <span class="n">ARQROOT</span><span class="o">=</span><span class="err">$</span><span class="n">HOME</span><span class="o">/</span><span class="n">MyProjects</span><span class="o">/</span><span class="n">ARQ</span>
</pre></div>


<p>A distribuição normalmente contém o número da versão no nome do diretório.</p>
<p>No diretório do ARQ, execute:</p>
<div class="codehilite"><pre><span class="n">bin</span><span class="o">/</span><span class="n">sparql</span> <span class="o">--</span><span class="n">data</span><span class="o">=</span><span class="n">doc</span><span class="o">/</span><span class="n">Tutorial</span><span class="o">/</span><span class="n">vc</span><span class="o">-</span><span class="n">db</span><span class="o">-</span><span class="mf">1.</span><span class="n">rdf</span> <span class="o">--</span><span class="n">query</span><span class="o">=</span><span class="n">doc</span><span class="o">/</span><span class="n">Tutorial</span><span class="o">/</span><span class="n">q1</span><span class="p">.</span><span class="n">rq</span>
</pre></div>


<p>Você pode simplesmente colocar o diretório <code>bin/</code> no seu classpath ou copiar os programas lá. Todos eles dependem de ARQROOT.</p>
<p><a href="http://www.cygwin.com/">Cygwin</a> é um ambiente Linux para Windows.</p>
<h3 id="usando-a-aplicacao-de-linhas-de-comando-de-jena-diretamente">Usando a aplicação de linhas de comando de Jena diretamente</h3>
<p>Você precisará modificar o classpath para incluir <em>todos</em> os arquivos jar do diretório <code>lib/</code> do ARQ.</p>
<p>Por exemplo, no Windows:</p>
<div class="codehilite"><pre><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">antlr</span><span class="o">-</span><span class="mf">2.7.5</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">arq</span><span class="o">-</span><span class="n">extra</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">arq</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">commons</span><span class="o">-</span><span class="n">logging</span><span class="o">-</span><span class="mf">1.1</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">concurrent</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">icu4j_3_4</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">iri</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">jena</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">jenatest</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">json</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">junit</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">log4j</span><span class="o">-</span><span class="mf">1.2.12</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">lucene</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mf">2.2.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">stax</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="mf">1.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">wstx</span><span class="o">-</span><span class="n">asl</span><span class="o">-</span><span class="mf">3.0.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">xercesImpl</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">xml</span><span class="o">-</span><span class="n">apis</span><span class="p">.</span><span class="n">jar</span>
</pre></div>


<p>onde <code>&lt;i&gt;ARQdir&lt;/i&gt;</code> é onde você descompactou o ARQ. Isso tudo precisa estar numa linha.</p>
<p>Os nomes dos arquivos JAR muitas vezes mudam e novos arquivos são adicionados – verifique essa lista com sua versão do ARQ.</p>
<p>Os comandos estão no pacote ARQ.</p>
<p><a href="sparql_basic_patterns_pt.html">Próximo: Padrões Básicos</a></p>
  </div>
</div>

</div><!--/.container -->

    <footer class="footer">
      <div class="container">
        <p>Copyright &copy; 2011&ndash;2013 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        </p>
        <p>
        Apache Jena, Jena, the Apache Jena project logo,
        Apache and the Apache feather logos are trademarks of The Apache Software Foundation.
        </p>
      </div>
  </footer>
      

</body>
</html>
